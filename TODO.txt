Alpha -> Beta
=====

switch to prisma migrate (currently forcing db changes, could loose data)

FIX
=====

install prisma
  https://github.com/prisma/prisma/blob/6e05fcca90efee74e2ae988f547cd67edd29637f/src/packages/client/src/utils/generateInFolder.ts#L111
init (blocking)
  check/install prisma 
  if no DB
    npx prisma db push
  if db
    backup
    migrate?
    restore?

Build step
  require('@vercel/ncc')('/path/to/input', {
    externals: [],
    minify: true,
    sourceMapRegister: false,
  }).then(({ code, map, assets }) => {
    console.log(code);
    // Assets is an object of asset file names to { source, permissions, symlinks }
    // expected relative to the output code (if any)
  })

Init stage (spawn)
  DATABASE_URL="file:${full_dp_path}" node ${path_to_prisma_cli} db push --schema ${full_schema_path}

Replace this value in server.js
  / +?"value": ?"(.+\/node_modules\/@prisma\/client)",?/gm


TODO
=====


Graphql Pagination

Model
  Patches
  Launchers

Title/name localization
  https://www.prisma.io/docs/support/help-articles/working-with-many-to-many-relations#explicit-relations

Seed DB with demo roms & launcher
Plugin Hook support
store DB/configs in user dir

Pipeline
-----

v2
--
Cypress for launcher theme
Cypress for api 
jest for exe plugin
nyc
storybook



Research
-----

Api plugin safe?
bundle Move themes and apis into single plugin type

Wishlist
------

Nexus Mods support
Prisma migrate via native API (non-existant)