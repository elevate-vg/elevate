<!doctype html>
<html>
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        padding: 20px;
        margin: 0;
        background: #1a1a2e;
        color: white;
      }
      h1 {
        color: #4ecdc4;
      }
      .button {
        background: #4ecdc4;
        color: #1a1a2e;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        margin: 10px 5px;
      }
      .button:hover {
        background: #45b7d1;
      }
      .output {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 5px;
        margin: 10px 0;
        font-family: monospace;
        white-space: pre-wrap;
      }
      .status {
        color: #888;
        margin: 10px 0;
      }
    </style>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $(e){const t={subscribe(n){let r=null,s=!1,i=!1,o=!1;function c(){if(r===null){o=!0;return}i||(i=!0,typeof r=="function"?r():r&&r.unsubscribe())}return r=e({next(a){var l;s||(l=n.next)==null||l.call(n,a)},error(a){var l;s||(s=!0,(l=n.error)==null||l.call(n,a),c())},complete(){var a;s||(s=!0,(a=n.complete)==null||a.call(n),c())}}),o&&c(),{unsubscribe:c}},pipe(...n){return n.reduce(Pe,t)}};return t}function Pe(e,t){return t(e)}function Te(e){const t=new AbortController;return new Promise((r,s)=>{let i=!1;function o(){i||(i=!0,c.unsubscribe())}t.signal.addEventListener("abort",()=>{s(t.signal.reason)});const c=e.subscribe({next(a){i=!0,r(a),o()},error(a){s(a)},complete(){t.abort(),o()}})})}function Ne(e){return t=>{let n=0,r=null;const s=[];function i(){r||(r=t.subscribe({next(c){var a;for(const l of s)(a=l.next)==null||a.call(l,c)},error(c){var a;for(const l of s)(a=l.error)==null||a.call(l,c)},complete(){var c;for(const a of s)(c=a.complete)==null||c.call(a)}}))}function o(){if(n===0&&r){const c=r;r=null,c.unsubscribe()}}return $(c=>(n++,s.push(c),i(),{unsubscribe(){n--,o();const a=s.findIndex(l=>l===c);a>-1&&s.splice(a,1)}}))}}function Ae(e){let t=e;const n=[],r=o=>{t!==void 0&&o.next(t),n.push(o)},s=o=>{n.splice(n.indexOf(o),1)},i=$(o=>(r(o),()=>{s(o)}));return i.next=o=>{if(t!==o){t=o;for(const c of n)c.next(o)}},i.get=()=>t,i}function Ce(e){return $(t=>{function n(s=0,i=e.op){const o=e.links[s];if(!o)throw new Error("No more links to execute - did you forget to add an ending link?");return o({op:i,next(a){return n(s+1,a)}})}return n().subscribe(t)})}const ie=()=>{},Q=e=>{Object.freeze&&Object.freeze(e)};function oe(e,t,n){var r,s;const i=t.join(".");return(r=n)[s=i]??(r[s]=new Proxy(ie,{get(o,c){if(!(typeof c!="string"||c==="then"))return oe(e,[...t,c],n)},apply(o,c,a){const l=t[t.length-1];let f={args:a,path:t};return l==="call"?f={args:a.length>=2?[a[1]]:[],path:t.slice(0,-1)}:l==="apply"&&(f={args:a.length>=2?a[1]:[],path:t.slice(0,-1)}),Q(f.args),Q(f.path),e(f)}})),n[i]}const _e=e=>oe(e,[],Object.create(null)),ve=e=>new Proxy(ie,{get(t,n){if(n!=="then")return e(n)}});function z(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}var F,Y;(F=Symbol).dispose??(F.dispose=Symbol());(Y=Symbol).asyncDispose??(Y.asyncDispose=Symbol());var J,ee,te,ne,re,se;typeof window>"u"||"Deno"in window||((ee=(J=globalThis.process)==null?void 0:J.env)==null?void 0:ee.NODE_ENV)==="test"||(ne=(te=globalThis.process)==null?void 0:te.env)!=null&&ne.JEST_WORKER_ID||(se=(re=globalThis.process)==null?void 0:re.env)!=null&&se.VITEST_WORKER_ID;function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){return e instanceof b}function Le(e){return z(e)&&z(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}function Ve(e,t){return typeof e=="string"?e:z(e)&&typeof e.message=="string"?e.message:t}class b extends Error{static from(t,n={}){const r=t;return ke(r)?(n.meta&&(r.meta={...r.meta,...n.meta}),r):Le(r)?new b(r.error.message,{...n,result:r}):new b(Ve(r,"Unknown error"),{...n,cause:r})}constructor(t,n){var s,i;const r=n==null?void 0:n.cause;super(t,{cause:r}),v(this,"cause",void 0),v(this,"shape",void 0),v(this,"data",void 0),v(this,"meta",void 0),this.meta=n==null?void 0:n.meta,this.cause=r,this.shape=(s=n==null?void 0:n.result)==null?void 0:s.error,this.data=(i=n==null?void 0:n.result)==null?void 0:i.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,b.prototype)}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xe{$request(t){return Ce({links:this.links,op:{...t,context:t.context??{},id:++this.requestId}}).pipe(Ne())}async requestAsPromise(t){try{const n=this.$request(t);return(await Te(n)).result.data}catch(n){throw b.from(n)}}query(t,n,r){return this.requestAsPromise({type:"query",path:t,input:n,context:r==null?void 0:r.context,signal:r==null?void 0:r.signal})}mutation(t,n,r){return this.requestAsPromise({type:"mutation",path:t,input:n,context:r==null?void 0:r.context,signal:r==null?void 0:r.signal})}subscription(t,n,r){return this.$request({type:"subscription",path:t,input:n,context:r.context,signal:r.signal}).subscribe({next(i){var o,c,a,l;switch(i.result.type){case"state":{(o=r.onConnectionStateChange)==null||o.call(r,i.result);break}case"started":{(c=r.onStarted)==null||c.call(r,{context:i.context});break}case"stopped":{(a=r.onStopped)==null||a.call(r);break}case"data":case void 0:{(l=r.onData)==null||l.call(r,i.result.data);break}}},error(i){var o;(o=r.onError)==null||o.call(r,i)},complete(){var i;(i=r.onComplete)==null||i.call(r)}})}constructor(t){D(this,"links",void 0),D(this,"runtime",void 0),D(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=t.links.map(n=>n(this.runtime))}}const De=Symbol.for("trpc_untypedClient"),Ue={query:"query",mutate:"mutation",subscribe:"subscription"},ze=e=>Ue[e];function Me(e){const t=_e(({path:n,args:r})=>{const s=[...n],i=ze(s.pop()),o=s.join(".");return e[i](o,...r)});return ve(n=>n===De?e:t[n])}function Be(e){const t=new xe(e);return Me(t)}const ae=(e,...t)=>typeof e=="function"?e(...t):e;function We(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}async function qe(e){const t=await ae(e.url);if(!e.connectionParams)return t;const r=`${t.includes("?")?"&":"?"}connectionParams=1`;return t+r}async function $e(e){const t={method:"connectionParams",data:await ae(e)};return JSON.stringify(t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e){const{promise:t,resolve:n,reject:r}=We();return e.addEventListener("open",()=>{e.removeEventListener("error",r),n()}),e.addEventListener("error",r),t}function Ke(e,{intervalMs:t,pongTimeoutMs:n}){let r,s;function i(){r=setTimeout(()=>{e.send("PING"),s=setTimeout(()=>{e.close()},n)},t)}function o(){clearTimeout(r),i()}function c(){clearTimeout(s),o()}e.addEventListener("open",i),e.addEventListener("message",({data:a})=>{clearTimeout(r),i(),a==="PONG"&&c()}),e.addEventListener("close",()=>{clearTimeout(r),clearTimeout(s)})}class L{get ws(){return this.wsObservable.get()}set ws(t){this.wsObservable.next(t)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){if(this.openPromise)return this.openPromise;this.id=++L.connectCount;const t=qe(this.urlOptions).then(n=>new this.WebSocketPonyfill(n));this.openPromise=t.then(async n=>{this.ws=n,n.addEventListener("message",function({data:r}){r==="PING"&&this.send("PONG")}),this.keepAliveOpts.enabled&&Ke(n,this.keepAliveOpts),n.addEventListener("close",()=>{this.ws===n&&(this.ws=null)}),await Ge(n),this.urlOptions.connectionParams&&n.send(await $e(this.urlOptions.connectionParams))});try{await this.openPromise}finally{this.openPromise=null}}async close(){var t;try{await this.openPromise}finally{(t=this.ws)==null||t.close()}}constructor(t){if(h(this,"id",++L.connectCount),h(this,"WebSocketPonyfill",void 0),h(this,"urlOptions",void 0),h(this,"keepAliveOpts",void 0),h(this,"wsObservable",Ae(null)),h(this,"openPromise",null),this.WebSocketPonyfill=t.WebSocketPonyfill??WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=t.urlOptions,this.keepAliveOpts=t.keepAlive}}h(L,"connectCount",0);class Qe{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,n){this.keyToValue.set(t,n),this.valueToKey.set(n,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class ce{constructor(t){this.generateIdentifier=t,this.kv=new Qe}register(t,n){this.kv.getByValue(t)||(n||(n=this.generateIdentifier(t)),this.kv.set(n,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class Fe extends ce{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(t,n.allowProps),super.register(t,n.identifier)):super.register(t,n)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function Ye(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function Ze(e,t){const n=Ye(e);if("find"in n)return n.find(t);const r=n;for(let s=0;s<r.length;s++){const i=r[s];if(t(i))return i}}function R(e,t){Object.entries(e).forEach(([n,r])=>t(r,n))}function k(e,t){return e.indexOf(t)!==-1}function Z(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return r}}class He{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return Ze(this.transfomers,n=>n.isApplicable(t))}findByName(t){return this.transfomers[t]}}const Xe=e=>Object.prototype.toString.call(e).slice(8,-1),ue=e=>typeof e>"u",je=e=>e===null,N=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,M=e=>N(e)&&Object.keys(e).length===0,p=e=>Array.isArray(e),Je=e=>typeof e=="string",et=e=>typeof e=="number"&&!isNaN(e),tt=e=>typeof e=="boolean",nt=e=>e instanceof RegExp,A=e=>e instanceof Map,C=e=>e instanceof Set,le=e=>Xe(e)==="Symbol",rt=e=>e instanceof Date&&!isNaN(e.valueOf()),st=e=>e instanceof Error,H=e=>typeof e=="number"&&isNaN(e),it=e=>tt(e)||je(e)||ue(e)||et(e)||Je(e)||le(e),ot=e=>typeof e=="bigint",at=e=>e===1/0||e===-1/0,ct=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),ut=e=>e instanceof URL,fe=e=>e.replace(/\./g,"\\."),U=e=>e.map(String).map(fe).join("."),T=e=>{const t=[];let n="";for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"&&e.charAt(s+1)==="."){n+=".",s++;continue}if(i==="."){t.push(n),n="";continue}n+=i}const r=n;return t.push(r),t};function y(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const de=[y(ue,"undefined",()=>null,()=>{}),y(ot,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),y(rt,"Date",e=>e.toISOString(),e=>new Date(e)),y(st,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n}),y(nt,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),y(C,"set",e=>[...e.values()],e=>new Set(e)),y(A,"map",e=>[...e.entries()],e=>new Map(e)),y(e=>H(e)||at(e),"number",e=>H(e)?"NaN":e>0?"Infinity":"-Infinity",Number),y(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),y(ut,"URL",e=>e.toString(),e=>new URL(e))];function x(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const ye=x((e,t)=>le(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),lt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),me=x(ct,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=lt[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function ge(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const pe=x(ge,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const r={};return n.forEach(s=>{r[s]=e[s]}),r},(e,t,n)=>{const r=n.classRegistry.getValue(t[1]);if(!r)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(r.prototype),e)}),he=x((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),ft=[pe,ye,he,me],X=(e,t)=>{const n=Z(ft,s=>s.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const r=Z(de,s=>s.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation}},Ee={};de.forEach(e=>{Ee[e.annotation]=e});const dt=(e,t,n)=>{if(p(t))switch(t[0]){case"symbol":return ye.untransform(e,t,n);case"class":return pe.untransform(e,t,n);case"custom":return he.untransform(e,t,n);case"typed-array":return me.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const r=Ee[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}},w=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function we(e){if(k(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(k(e,"prototype"))throw new Error("prototype is not allowed as a property");if(k(e,"constructor"))throw new Error("constructor is not allowed as a property")}const yt=(e,t)=>{we(t);for(let n=0;n<t.length;n++){const r=t[n];if(C(e))e=w(e,+r);else if(A(e)){const s=+r,i=+t[++n]==0?"key":"value",o=w(e,s);switch(i){case"key":e=o;break;case"value":e=e.get(o);break}}else e=e[r]}return e},B=(e,t,n)=>{if(we(t),t.length===0)return n(e);let r=e;for(let i=0;i<t.length-1;i++){const o=t[i];if(p(r)){const c=+o;r=r[c]}else if(N(r))r=r[o];else if(C(r)){const c=+o;r=w(r,c)}else if(A(r)){if(i===t.length-2)break;const a=+o,l=+t[++i]==0?"key":"value",f=w(r,a);switch(l){case"key":r=f;break;case"value":r=r.get(f);break}}}const s=t[t.length-1];if(p(r)?r[+s]=n(r[+s]):N(r)&&(r[s]=n(r[s])),C(r)){const i=w(r,+s),o=n(i);i!==o&&(r.delete(i),r.add(o))}if(A(r)){const i=+t[t.length-2],o=w(r,i);switch(+s==0?"key":"value"){case"key":{const a=n(o);r.set(a,r.get(o)),a!==o&&r.delete(o);break}case"value":{r.set(o,n(r.get(o)));break}}}return e};function W(e,t,n=[]){if(!e)return;if(!p(e)){R(e,(i,o)=>W(i,t,[...n,...T(o)]));return}const[r,s]=e;s&&R(s,(i,o)=>{W(i,t,[...n,...T(o)])}),t(r,n)}function mt(e,t,n){return W(t,(r,s)=>{e=B(e,s,i=>dt(i,r,n))}),e}function gt(e,t){function n(r,s){const i=yt(e,T(s));r.map(T).forEach(o=>{e=B(e,o,()=>i)})}if(p(t)){const[r,s]=t;r.forEach(i=>{e=B(e,T(i),()=>e)}),s&&R(s,n)}else R(t,n);return e}const pt=(e,t)=>N(e)||p(e)||A(e)||C(e)||ge(e,t);function ht(e,t,n){const r=n.get(e);r?r.push(t):n.set(e,[t])}function Et(e,t){const n={};let r;return e.forEach(s=>{if(s.length<=1)return;t||(s=s.map(c=>c.map(String)).sort((c,a)=>c.length-a.length));const[i,...o]=s;i.length===0?r=o.map(U):n[U(i)]=o.map(U)}),r?M(n)?[r]:[r,n]:M(n)?void 0:n}const be=(e,t,n,r,s=[],i=[],o=new Map)=>{const c=it(e);if(!c){ht(e,s,t);const g=o.get(e);if(g)return r?{transformedValue:null}:g}if(!pt(e,n)){const g=X(e,n),d=g?{transformedValue:g.value,annotations:[g.type]}:{transformedValue:e};return c||o.set(e,d),d}if(k(i,e))return{transformedValue:null};const a=X(e,n),l=(a==null?void 0:a.value)??e,f=p(l)?[]:{},I={};R(l,(g,d)=>{if(d==="__proto__"||d==="constructor"||d==="prototype")throw new Error(`Detected property ${d}. This is a prototype pollution risk, please remove it from your object.`);const P=be(g,t,n,r,[...s,d],[...i,e],o);f[d]=P.transformedValue,p(P.annotations)?I[d]=P.annotations:N(P.annotations)&&R(P.annotations,(Se,Ie)=>{I[fe(d)+"."+Ie]=Se})});const K=M(I)?{transformedValue:f,annotations:a?[a.type]:void 0}:{transformedValue:f,annotations:a?[a.type,I]:I};return c||o.set(e,K),K};function Re(e){return Object.prototype.toString.call(e).slice(8,-1)}function j(e){return Re(e)==="Array"}function wt(e){if(Re(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function bt(e,t,n,r,s){const i={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";i==="enumerable"&&(e[t]=n),s&&i==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function q(e,t={}){if(j(e))return e.map(s=>q(s,t));if(!wt(e))return e;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...n,...r].reduce((s,i)=>{if(j(t.props)&&!t.props.includes(i))return s;const o=e[i],c=q(o,t);return bt(s,i,c,e,t.nonenumerable),s},{})}class u{constructor({dedupe:t=!1}={}){this.classRegistry=new Fe,this.symbolRegistry=new ce(n=>n.description??""),this.customTransformerRegistry=new He,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const n=new Map,r=be(t,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const i=Et(n,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(t){const{json:n,meta:r}=t;let s=q(n);return r!=null&&r.values&&(s=mt(s,r.values,this)),r!=null&&r.referentialEqualities&&(s=gt(s,r.referentialEqualities)),s}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,n){this.classRegistry.register(t,n)}registerSymbol(t,n){this.symbolRegistry.register(t,n)}registerCustom(t,n){this.customTransformerRegistry.register({name:n,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}u.defaultInstance=new u;u.serialize=u.defaultInstance.serialize.bind(u.defaultInstance);u.deserialize=u.defaultInstance.deserialize.bind(u.defaultInstance);u.stringify=u.defaultInstance.stringify.bind(u.defaultInstance);u.parse=u.defaultInstance.parse.bind(u.defaultInstance);u.registerClass=u.defaultInstance.registerClass.bind(u.defaultInstance);u.registerSymbol=u.defaultInstance.registerSymbol.bind(u.defaultInstance);u.registerCustom=u.defaultInstance.registerCustom.bind(u.defaultInstance);u.allowErrorProps=u.defaultInstance.allowErrorProps.bind(u.defaultInstance);u.serialize;u.deserialize;u.stringify;u.parse;u.registerClass;u.registerCustom;u.registerSymbol;u.allowErrorProps;const Oe={TRPC_REQUEST:"trpc-request",TRPC_RESPONSE:"trpc-response"},m={WEBVIEW_NOT_AVAILABLE:"ReactNativeWebView not available",CLIENT_NOT_INITIALIZED:"tRPC client not initialized",MESSAGE_PROCESSING_ERROR:"Error processing message",INITIALIZATION_ERROR:"Failed to initialize tRPC client",SUBSCRIBE_ERROR:"Error in subscribe",QUERY_FAILED:"Query failed",MUTATION_FAILED:"Mutation failed",TRPC_ERROR:"tRPC Error",CONNECTION_ERROR:"Connection to React Native failed",INVALID_RESPONSE:"Invalid response format"},_={CLIENT_READY:"✅ Real tRPC client ready! (Vite bundled)",WEBVIEW_NOT_FOUND:"! ReactNativeWebView not found",SENDING_QUERY:"Sending query via real tRPC...",QUERY_SUCCESS:"✅ Query successful!",SENDING_MUTATION:"Sending mutation via real tRPC...",MUTATION_SUCCESS:"✅ Mutation successful!"},V={transformer:u};let O=null;function Rt(e){const t=V.transformer.serialize(e.input);return{id:e.id,method:e.type,params:{path:e.path,input:t}}}function Ot(e,t){if(window.ReactNativeWebView)return window.ReactNativeWebView.postMessage(JSON.stringify({type:Oe.TRPC_REQUEST,trpc:e})),!0;{const n=new Error(m.WEBVIEW_NOT_AVAILABLE);return t.error(n),!1}}function St(e,t){const n=typeof e.data=="string"?JSON.parse(e.data):e.data;let r=null;return n.type===Oe.TRPC_RESPONSE&&n.trpc||n.trpc&&n.trpc.id===t?r=n.trpc:n.id===t&&(r=n),r&&r.id===t?r:null}function It(e,t){if(e.error)try{const n=V.transformer.deserialize(e.error);t.error(new Error(n.message||m.TRPC_ERROR))}catch{t.error(new Error(m.INVALID_RESPONSE))}else if(e.result)try{const n=V.transformer.deserialize(e.result.data||e.result);t.next({result:{type:"data",data:n}}),t.complete()}catch{t.error(new Error(m.INVALID_RESPONSE))}}function Pt(e,t){const n=r=>{try{const s=St(r,e.id);s&&It(s,t)}catch{t.error(new Error(m.MESSAGE_PROCESSING_ERROR))}};return window.addEventListener("message",n),document.addEventListener("message",n),{unsubscribe:()=>{window.removeEventListener("message",n),document.removeEventListener("message",n)}}}function Tt(){return()=>({op:e,next:t})=>({subscribe:n=>{try{const r=Rt(e);return Ot(r,n)?Pt(e,n):void 0}catch{n.error(new Error(m.SUBSCRIBE_ERROR))}}})}function Nt(){try{const e=Tt();O=Be({transformer:V.transformer,links:[e]}),S(_.CLIENT_READY)}catch(e){E(e,"Initialization")}}function S(e){document.getElementById("status").textContent=e}function G(e){document.getElementById("output").textContent=JSON.stringify(e,null,2)}function E(e,t="Unknown"){const n=(e==null?void 0:e.message)||e||"Unknown error";console.error(`[${t}]`,n);const r=At(n);S(`❌ ${r}`),G({type:"error",context:t,message:r,details:n})}function At(e){return e.includes("ReactNativeWebView")?"Connection to app unavailable":e.includes("not initialized")?"Client not ready":e.includes("timeout")||e.includes("network")?"Connection timeout":e.includes("parse")||e.includes("JSON")?"Invalid response format":"Something went wrong"}async function Ct(){if(!O){E(m.CLIENT_NOT_INITIALIZED,"Query");return}try{S(_.SENDING_QUERY);const e=await O.hello.query({name:"Vite + Real tRPC Client"});S(_.QUERY_SUCCESS),G({type:"query",result:e})}catch(e){E(e,"Query")}}async function _t(){if(!O){E(m.CLIENT_NOT_INITIALIZED,"Mutation");return}try{S(_.SENDING_MUTATION);const e=await O.echo.mutate({message:"Hello from Vite + Real tRPC Client at "+new Date().toLocaleTimeString()});S(_.MUTATION_SUCCESS),G({type:"mutation",result:e})}catch(e){E(e,"Mutation")}}window.addEventListener("load",()=>{try{if(!window.ReactNativeWebView){E(m.WEBVIEW_NOT_AVAILABLE,"Initialization");return}Nt(),window.trpcClient=O,window.testQuery=Ct,window.testMutation=_t}catch(e){E(e,"Load")}});</script>
  </head>
  <body>
    <h1>Hi There Ok Vite + Real tRPC Client</h1>
    <div class="status" id="status">Initializing tRPC client...</div>

    <div>
      <button class="button" onclick="testQuery()">Test Query (hello)</button>
      <button class="button" onclick="testMutation()">
        Test Mutation (echo)
      </button>
    </div>

    <div class="output" id="output">The output will appear here...</div>

  </body>
</html>

